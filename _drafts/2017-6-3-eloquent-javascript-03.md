---
layout:     post
title:      "JavaScript编程精解笔记（3）"
subtitle:   "函数"
date:       2017-06-03 00:00:00 
author:     "9aoyang"
header-img: "img/eloquent-javascript.jpg"
catalog: true
tags:
    - 前端
    - Javascript
    - JavaScript编程精解
---
# 第三章 函数

- 函数是JavaScript中不可或缺的组成部分
- 函数是构造大型程序的工具，可以用于减少重复性工作、为子程序命名并隔离各个子程序的运行。

#### 3.1 定义函数

创建函数的表达式以关键字`function`开头。

```javascript
var fun = function (parameter1, parameter2, ...) {//参数可以为空，也可以为一或多个
    // 函数体，哪怕只有一条语句，也要包含在大括号中，语句会在调用函数时执行
    ...
    // return语句决定了函数的返回值，后面不跟表达式时返回undefined
    return;
}
```

#### 3.2 参数和作用域

- 函数的参数初始值由函数调用者提供。

- 函数内部创建的变量和参数都属于函数的局部变量，这种隔离机制确保了函数间不会相互干扰。

#### 3.3 嵌套作用域

- 可以在函数中创建其他函数，并产生不同程度的局部作用域。

- 任何局部作用域都可以访问到包含它的局部作用域

- 函数内部变量的可见性取决于函数在代码当中的位置，在包含了一个函数定义的代码块中，这个函数可以访问到代码块中的所有变量，即函数上层的代码块中的变量和函数内部的变量。这种控制变量的方法称为**词法作用域**。

- `let`关键字作用与`var`相同，只不过变量作用域是块作用域而非函数局部作用域。

#### 3.4 函数值

**函数和函数名的区别**：**函数**是一种叫做function引用类型的实例，因此函数是一个对象。对象是保存在内存中的，**函数名**则是指向这个对象的指针。

JavaScript中**函数是一等公民**，可以作为参数传入别的函数，也可以作为一个函数的返回值，也可以被重新赋值。

#### 3.5 符号声明

函数声明还有一种更为简洁的方式：

```javascript
function fun(parameter) {
    //todo
}
```

- 函数声明不遵循一般的从上到下的流控制规则。

```javascript
console.log('are you ok ?', ans());

function ans() {
    return 'yeah, i\'m ok';
}
```

- 为了确保函数在不同环境下运行的行为一致，应在最外层的函数或程序作用域中进行函数声明。

#### 3.6 调用栈